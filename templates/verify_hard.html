<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>X√°c th·ª±c Hardware Token</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_modern.css') }}">
</head>
<body>
    <div class="form-container">
        <div class="form-card">
            <div class="logo">üîê</div>
            <h2>ƒêang ch·ªù x√°c th·ª±c Hardware Token...</h2>
            <p>Vui l√≤ng c·∫Øm USB v√† ch·∫°y ch∆∞∆°ng tr√¨nh <code>usb_auth.exe</code></p>
            <p>Trang n√†y s·∫Ω t·ª± ƒë·ªông chuy·ªÉn h∆∞·ªõng sau khi x√°c th·ª±c th√†nh c√¥ng.</p>
        </div>
    </div>

    <script>
        function checkStatus() {
            fetch("/check_usb_status")
                .then(res => res.json())
                .then(data => {
                    if (data.verified) {
                        window.location.href = "/auth/usb?verified=true"; // G·ªçi l·∫°i route ƒë·ªÉ set session
                    } else {
                        setTimeout(checkStatus, 2000);
                    }
                });
        }
        checkStatus();
    </script>
</body>
</html>
